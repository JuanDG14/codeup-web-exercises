<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Online Blog</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="css/ajax-blog.css">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">My Misadventures</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Moments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Messages</a>
            </li>
        </ul>
    </div>
</nav>

<div id="posts"></div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script>
    (function () {
        "use strict";

        function makeABlog() {
            $('#posts').html("");
            $.ajax("data/blog.json").done(function (post) {
                console.log(post);
                for (var i = 0; i < post.length; i++) {
                    var htmlStr = "<div id='header" + (i + 1) + "' class='card' style=\"width: 40rem;\">";
                    htmlStr += "<div class='card-body'>"
                    htmlStr += "<h2 class='card-title'>" + post[i].title + "</h2>";
                    htmlStr += "<h3 class='card-subtitle mb-2 text-muted'>" + post[i].date + "</h3>";
                    htmlStr += "<p class='card-text'>" + post[i].content + "</p>";
                    htmlStr += "<ul class='list-group list-group-flush d-flex flex-row'>";
                    post[i].categories.forEach(function (element) {
                        htmlStr += "<li class='list-group-item'>" + element + "</li>";
                    });
                    htmlStr += "</ul>";
                    htmlStr += "</div>";
                    htmlStr += "</div>";
                    $("#posts").append(htmlStr);
                }
            });
        }


        makeABlog();

    })();
</script>
</body>
</html>